<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>2 - What is a Travelling Salesman Problem? - üìà mlrose-ky</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2 - What is a Travelling Salesman Problem?";
        var mkdocs_page_input_path = "tutorial2.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> üìà mlrose-ky
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">üèöÔ∏è Home</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="..#user-guide">User Guide</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="..#tutorial-1-getting-started">Tutorial 1 - Getting Started</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="..#tutorial-2-travelling-saleperson-problems">Tutorial 2 - Travelling Saleperson Problems</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="..#tutorial-3-ml-weight-optimization-problems">Tutorial 3 - ML Weight Optimization Problems</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="..#tutorial-4-using-runners">Tutorial 4 - Using Runners</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">Ôºü About</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../about/#project-background">Project Background</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../about/#main-features">Main Features</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../about/#project-improvements-and-updates">Project Improvements and Updates</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../about/#installation">Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../about/#licensing-authors-acknowledgements">Licensing, Authors, Acknowledgements</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/knakamura13/mlrose-ky">üîó Github</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">‚ÜØ Randomized Optimizations</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../opt_probs/">ü§î Optimization Problems</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../opt_probs/#discrete-optimisation-problem">Discrete Optimisation Problem</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../opt_probs/#continuous-optimisation-problem">Continuous Optimisation Problem</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../opt_probs/#travelling-salesperson-optimisation-problem">Travelling Salesperson Optimisation Problem</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../algorithms/">üõπ Algorithms</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../algorithms/#hill-climbing">Hill Climbing</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../algorithms/#references">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../algorithms/#random-hill-climbing">Random Hill Climbing</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../algorithms/#references_1">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../algorithms/#simulated-annealing">Simulated Annealing</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../algorithms/#references_2">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../algorithms/#genetic-algorithms">Genetic Algorithms</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../algorithms/#references_3">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../algorithms/#mimic">MIMIC</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../algorithms/#references_4">References</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../decay/">üìÖ Decay Schedules</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../decay/#geometric-decay">Geometric Decay</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#formula">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-declaration">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-method">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#example">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../decay/#arithmetic-decay">Arithmetic Decay</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#formula_1">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-declaration_1">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-method_1">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#example_1">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../decay/#exponential-decay">Exponential Decay</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#formula_2">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-declaration_2">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-method_2">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#example_2">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../decay/#write-your-own-custom-schedule">Write your own custom schedule</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#example_3">Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../decay/#class-method_3">Class method</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fitness/">üèÉüèª Fitness Functions</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#one-max">One Max</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#flip-flops">Flip Flops</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_1">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_1">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_1">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_1">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#four-peaks">Four Peaks</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_2">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_2">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_2">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_2">Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#references">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#six-peaks">Six Peaks</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_3">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_3">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_3">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_3">Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#references_1">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#continuous-peaks">Continuous Peaks</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_4">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_4">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_4">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_4">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#knapsack">Knapsack</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_5">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_5">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_5">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_5">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#travelling-salesman-tsp">Travelling Salesman (TSP)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_6">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_6">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_6">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_6">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#n-queens">N-Queens</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_7">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_7">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_7">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_7">Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#references_2">References</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#max-k-color">Max K Color</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#formula_8">Formula</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_8">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_8">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_8">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../fitness/#write-your-own-fitness-function">Write your own fitness function</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-declaration_9">Class declaration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#class-method_9">Class method</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../fitness/#example_9">Example</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">üß† Neural Networks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../neural/">üìâ Backpropagation using ROs</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../neural/#neural-network">Neural Network</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../neural/#linear-regression">Linear Regression</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../neural/#logistic-regression">Logistic Regression</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">üßëüèª‚Äçüíª Tutorials</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../tutorial1/">1 - Getting Started</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#what-is-an-optimization-problem">What is an Optimization Problem?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#why-use-randomized-optimization">Why use Randomized Optimization?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#solving-optimization-problems-with-mlrose-ky">Solving Optimization Problems with mlrose-ky</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#define-a-fitness-function-object">Define a Fitness Function Object</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#define-an-optimization-problem-object">Define an Optimization Problem Object</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#select-and-run-a-randomized-optimization-algorithm">Select and Run a Randomized Optimization Algorithm</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#summary">Summary</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial1/#references">References</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">2 - What is a Travelling Salesman Problem?</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-is-a-travelling-salesperson-problem">What is a Travelling Salesperson Problem?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#solving-tsps-with-mlrose-ky">Solving TSPs with mlrose-ky</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#define-a-fitness-function-object">Define a Fitness Function Object</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#define-an-optimization-problem-object">Define an Optimization Problem Object</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#select-and-run-a-randomized-optimization-algorithm">Select and Run a Randomized Optimization Algorithm</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tutorial3/">3 - What is a Machine Learning Weight Optimization Problem?</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial3/#what-is-a-machine-learning-weight-optimization-problem">What is a Machine Learning Weight Optimization Problem?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial3/#solving-machine-learning-weight-optimization-problems-with-mlrose-ky">Solving Machine Learning Weight Optimization Problems with mlrose-ky</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../tutorial3/#example-the-iris-dataset">Example: the Iris Dataset</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial3/#data-pre-processing">Data Pre-Processing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial3/#neural-networks">Neural Networks</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial3/#linear-and-logistic-regression-models">Linear and Logistic Regression Models</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../tutorial3/#summary">Summary</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../runners/">4 - How to use Runners for Optimization Problems?</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../runners/#an-example-with-rhc-runner">An example with RHC Runner</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../runners/#use-runners-to-make-your-own-custom-wrapper">Use runners to make your own custom wrapper</a>
    </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">üìà mlrose-ky</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">üßëüèª‚Äçüíª Tutorials</li>
      <li class="breadcrumb-item active">2 - What is a Travelling Salesman Problem?</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="tutorial-travelling-saleperson-problems">Tutorial - Travelling Saleperson Problems<a class="headerlink" href="#tutorial-travelling-saleperson-problems" title="Permanent link">#</a></h1>
<h2 id="what-is-a-travelling-salesperson-problem">What is a Travelling Salesperson Problem?<a class="headerlink" href="#what-is-a-travelling-salesperson-problem" title="Permanent link">#</a></h2>
<p>The travelling salesperson problem (TSP) is a classic optimization problem where the goal is to determine the shortest tour of a collection of n ‚Äúcities‚Äù (i.e. nodes), starting and ending in the same city and visiting all of the other cities exactly once. In such a situation, a solution can be represented by a vector of n integers, each in the range 0 to n-1, specifying the order in which the cities should be visited.</p>
<p>TSP is an NP-hard problem, meaning that, for larger values of n, it is not feasible to evaluate every possible problem solution within a reasonable period of time. Consequently, TSPs are well suited to solving using randomized optimization algorithms.</p>
<p><strong>Example</strong></p>
<p>Consider the following map containing 8 cities, numbered 0 to 7.</p>
<p>![[images/tutorial2/tsp1.png]]</p>
<p>A salesperson would like to travel to each of these cities, starting and ending in the same city and visiting each of the other cities exactly once.</p>
<p>One possible tour of the cities is illustrated below, and could be represented by the solution vector <span class="arithmatex">\(x = [0, 4, 2, 6, 5, 3, 7, 1]\)</span> (assuming the tour starts and ends at City 0).</p>
<p><img alt="tsp example 2" src="../images/tutorial2/tsp2.png" /></p>
<p>However, this is not the shortest tour of these cities. The aim of this problem is to find the <em>shortest</em> tour of the 8 cities.</p>
<h2 id="solving-tsps-with-mlrose-ky">Solving TSPs with mlrose-ky<a class="headerlink" href="#solving-tsps-with-mlrose-ky" title="Permanent link">#</a></h2>
<p>Given the solution to the TSP can be represented by a vector of integers in the range 0 to n-1, we could define a discrete-state optimization problem object and use one of mlrose‚Äôs randomized optimization algorithms to solve it, as we did for the 8-Queens problem in the previous tutorial. However, by defining the problem this way, we would end up potentially considering invalid ‚Äúsolutions‚Äù, which involve us visiting some cities more than once and some not at all.</p>
<p>An alternative is to define an optimization problem object that only allows us to consider valid tours of the n cities as potential solutions. This is a much more efficient approach to solving TSPs and can be implemented in mlrose_ky using the <code>TSPOpt()</code> optimization problem class.</p>
<p>In this tutorial, we will use this alternative approach to solve the TSP example given above.</p>
<p>The steps required to solve this problem are the same as those used to solve any optimization problem in mlrose-ky. Specificially:</p>
<ol>
<li>Define a fitness function object.</li>
<li>Define an optimization problem object.</li>
<li>Select and run a randomized optimization algorithm.</li>
</ol>
<p>Before starting with the example, you will need to import the mlrose-ky and Numpy Python packages.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">mlrose_ky</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></code></pre></div>
<h2 id="define-a-fitness-function-object">Define a Fitness Function Object<a class="headerlink" href="#define-a-fitness-function-object" title="Permanent link">#</a></h2>
<p>For the TSP in the example, the goal is to find the shortest tour of the eight cities. As a result, the fitness function should calculate the total length of a given tour. This is the fitness definition used in mlrose‚Äôs pre-defined <code>TravellingSales()</code> class.</p>
<p>The <code>TSPOpt()</code> optimization problem class assumes, by default, that the <code>TravellingSales()</code> class is used to define the fitness function for a TSP. As a result, if the  <code>TravellingSales()</code> class is to be used to define the fitness function object, then this step can be skipped. However, it is also possible to manually define the fitness function object, if so desired.</p>
<p>To initialize a fitness function object for the <code>TravellingSales()</code> class, it is necessary to specify either the (x, y) coordinates of all the cities or the distances between each pair of cities for which travel is possible. If the former is specified, then it is assumed that travel between each pair of cities is possible.</p>
<p>If we choose to specify the coordinates, then these should be input as an ordered list of pairs (where pair i specifies the coordinates of city i), as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Create list of city coordinates</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">coords_list</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Initialize fitness function object using coords_list</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">fitness_coords</span> <span class="o">=</span> <span class="n">mlrose_ky</span><span class="o">.</span><span class="n">TravellingSales</span><span class="p">(</span><span class="n">coords</span> <span class="o">=</span> <span class="n">coords_list</span><span class="p">)</span>
</span></code></pre></div>
<p>Alternatively, if we choose to specity the distances, then these should be input as a list of triples giving the distances, d, between all pairs of cities, u and v, for which travel is possible, with each triple in the form (u, v, d). The order in which the cities is specified does not matter (i.e., the distance between cities 1 and 2 is assumed to be the same as the distance between cities 2 and 1), and so each pair of cities need only be included in the list once.</p>
<p>Using the distance approach, the fitness function object can be initialize as follows:<br />
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a> <span class="n">Create</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">distances</span> <span class="n">between</span> <span class="n">pairs</span> <span class="n">of</span> <span class="n">cities</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">dist_list</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">3.1623</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">4.1231</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">5.8310</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">4.2426</span><span class="p">),</span> \
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>             <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">5.3852</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">4.0000</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1.0000</span><span class="p">),</span> \
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>             <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">2.8284</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">2.0000</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">4.1231</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">4.2426</span><span class="p">),</span> \
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>             <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">4.4721</span><span class="p">),</span> \
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>             <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">5.0000</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">3.1623</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">2.0000</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">3.6056</span><span class="p">),</span> \
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>             <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">5.0990</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">4.1231</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">3.1623</span><span class="p">),</span> \
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>             <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">3.1623</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">2.2361</span><span class="p">)]</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c1"># Initialize fitness function object using dist_list</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="n">fitness_dists</span> <span class="o">=</span> <span class="n">mlrose_ky</span><span class="o">.</span><span class="n">TravellingSales</span><span class="p">(</span><span class="n">distances</span> <span class="o">=</span> <span class="n">dist_list</span><span class="p">)</span>
</span></code></pre></div></p>
<p>If both a list of coordinates and a list of distances are specified in initializing the fitness function object, then the distance list will be ignored.</p>
<h2 id="define-an-optimization-problem-object">Define an Optimization Problem Object<a class="headerlink" href="#define-an-optimization-problem-object" title="Permanent link">#</a></h2>
<p>As mentioned previously, the most efficient approach to solving a TSP in mlrose-ky is to define the optimization problem object using the <code>TSPOpt()</code> optimization problem class.</p>
<p>If a fitness function has already been manually defined, as demonstrated in the previous step, then the only additional information required to initialize a <code>TSPOpt()</code> object are the length of the problem (i.e. the number of cities to be visited on the tour) and whether our problem is a maximization or a minimization problem.</p>
<p>In our example, we want to solve a minimization problem of length 8. If we use the <code>fitness_coords</code> fitness function defined above, we can define an optimization problem object as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Define optimization problem object</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">problem_fit</span> <span class="o">=</span> <span class="n">mlrose_ky</span><span class="o">.</span><span class="n">TSPOpt</span><span class="p">(</span><span class="n">length</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">fitness_fn</span> <span class="o">=</span> <span class="n">fitness_coords</span><span class="p">,</span> <span class="n">maximize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>
<p>Alternatively, if we had not previously defined a fitness function (and we wish to use the <code>TravellingSales()</code> class to define the fitness function), then this can be done as part of the optimization problem object initialization step by specifying either a list of coordinates or a list of distances, instead of a fitness function object, similar to what was done when manually initializing the fitness function object.</p>
<p>In the case of our example, if we choose to specify a list of coordinates, in place of a fitness function object, we can initialize our optimization problem object as:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Create list of city coordinates</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">coords_list</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1"># Define optimization problem object</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">problem_no_fit</span> <span class="o">=</span> <span class="n">mlrose_ky</span><span class="o">.</span><span class="n">TSPOpt</span><span class="p">(</span><span class="n">length</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">coords</span> <span class="o">=</span> <span class="n">coords_list</span><span class="p">,</span> <span class="n">maximize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></code></pre></div>
<p>As with manually defining the fitness function object, if both a list of coordinates and a list of distances are specified in initializing the optimization problem object, then the distance list will be ignored. Furthermore, if a fitness function object is specified in addition to a list of coordinates and/or a list of distances, then the list of coordinates/distances will be ignored.</p>
<h2 id="select-and-run-a-randomized-optimization-algorithm">Select and Run a Randomized Optimization Algorithm<a class="headerlink" href="#select-and-run-a-randomized-optimization-algorithm" title="Permanent link">#</a></h2>
<p>Once the optimization object is defined, all that is left to do is to select a randomized optimization algorithm and use it to solve our problem.</p>
<p>This time, suppose we wish to use the genetic algorithms with the default parameter settings of a population size (pop_size) of 200, a mutation probability (mutation_prob) of 0.1, a maximum of 10 attempts per step (max_attempts) and no limit on the maximum total number of iteration of the algorithm (max_iters). This returns the following solution:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Solve problem using the genetic algorithm</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">best_state</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">mlrose_ky</span><span class="o">.</span><span class="n">genetic_alg</span><span class="p">(</span><span class="n">problem_fit</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">best_state</span><span class="p">)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="p">[</span><span class="mi">1</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">]</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="nb">print</span><span class="p">(</span><span class="n">best_fitness</span><span class="p">)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="mf">18.8958046604</span>
</span></code></pre></div>
<p>The solution tour found by the algorithm is pictured below and has a total length of 18.896 units.</p>
<p><img alt="tsp example 3" src="../images/tutorial2/tsp3.png" /></p>
<p>As in the 8-Queens example given in the previous tutorial, this solution can potentially be improved on by tuning the parameters of the optimization algorithm. For example, increasing the maximum number of attempts per step to 100 and increasing the mutation probability to 0.2, yields a tour with a total length of 17.343 units.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Solve problem using the genetic algorithm</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">best_state</span><span class="p">,</span> <span class="n">best_fitness</span> <span class="o">=</span> <span class="n">mlrose_ky</span><span class="o">.</span><span class="n">genetic_alg</span><span class="p">(</span><span class="n">problem_fit</span><span class="p">,</span> <span class="n">mutation_prob</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>                                              <span class="n">max_attempts</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">best_state</span><span class="p">)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">[</span><span class="mi">7</span> <span class="mi">6</span> <span class="mi">5</span> <span class="mi">4</span> <span class="mi">3</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">best_fitness</span><span class="p">)</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="mf">17.3426175477</span>
</span></code></pre></div>
<p>This solution is illustrated below and can be shown to be the optimal solution to this problem.</p>
<p><img alt="tsp example 4" src="../images/tutorial2/tsp4.png" /></p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">#</a></h2>
<p>In this tutorial we introduced the travelling salesperson problem, and discussed how mlrose-ky can be used to efficiently solve this problem. This is an example of how mlrose-ky caters to solving one very specific type of optimization problem.</p>
<p>Another very specific type of optimization problem mlrose-ky caters to solving is the machine learning weight optimization problem. That is, the problem of finding the optimal weights for machine learning models such as neural networks and regression models. We will discuss how mlrose-ky can be used to solve this problem next, in our third and final tutorial.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../tutorial1/" class="btn btn-neutral float-left" title="1 - Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../tutorial3/" class="btn btn-neutral float-right" title="3 - What is a Machine Learning Weight Optimization Problem?">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../tutorial1/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../tutorial3/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../javascripts/mathjax.js"></script>
      <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
